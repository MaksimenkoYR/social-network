{"version":3,"sources":["dal/dal.js","features/profile/actions.js","lib/defaultAvatar.svg","ui/buttons/Button.module.css","features/initialization/actions.js","features/initialization/selectors.js","ui/loaders/PageLoader.js","features/initialization/Initialization.js","features/initialization/reducer.js","features/navigation/Navigation.js","ui/loaders/CirkleLoader.js","ui/buttons/ButtonWithAction.js","ui/buttons/Button.js","ui/input/Input.js","ui/loaders/HorizontalLoader.js","ui/buttons/EditingButton.js","ui/buttons/SocialNetworkButton.js","lib/constants.js","features/sign-in/SignInForm.js","features/sign-in/reducer.js","features/sign-in/actions.js","features/profile/reducer.js","features/profile/EditProfilePhoto.js","features/profile/ProfileHeadline.js","features/profile/Profile.js","features/sign-in/SignInHeader.js","pages/templates/MainPageTemplate.js","pages/home/HomePage.js","pages/sign-in/SignInPageModel.js","pages/sign-in/SignInPage.js","features/sign-in/selectors.js","pages/profile/ProfilePage.js","features/users/actions.js","features/users/reducer.js","features/usersPrewiev/UserPrewiev.js","features/users/Users.js","features/users/friendship/actions.js","pages/users/UsersPage.js","App.js","reducer.js","index.js"],"names":["sampleRequest","axios","create","baseURL","headers","withCredentials","authenticateUserRequest","get","then","response","data","signInRequest","post","signOutRequest","delete","getCaptchaRequest","getProfileRequest","userId","setProfilePhotoRequest","img","getUsersRequest","pageNumber","addToFriendsRequest","request","removeFromFriendsREquest","SET_PROFILE","setProfile","profile","type","defineProfile","dispatch","setProfilePhoto","module","exports","SET_AUTHENTICATED_USER","setAuthenticatedUser","user","INITIALIZATION_FAILED","initializationFailed","initializeApp","resultCode","userIdSelector","state","initialization","authenticatedUser","id","PageLoader","class","className","connect","initializationComplete","initializationSelector","noRedirect","children","useEffect","push","to","require","initialState","initializationReducer","action","props","CirkleLoader","big","blue","center","Button","loading","onClick","styles","button","Input","error","placeholder","ref","register","name","htmlFor","message","HorizontalLoader","EditingButton","classes","OnEdit","SocialNetworkButton","url","socialNetwork","href","SignInForm","useState","captchaSrc","setcaptchaSrc","signInFailed","defineCaptcha","useForm","mode","handleSubmit","errors","signInComplete","onSubmit","logIn","requestSent","required","minLength","value","maxLength","pattern","email","password","alt","src","reducer","profileDefine","EditProfilePhoto","photo","setPhoto","imgSrc","setImgSrc","onChange","event","target","files","reader","FileReader","readAsDataURL","onload","result","formData","FormData","append","setPhotoEditing","ProfileHeadline","authenticatedUserId","photoEditing","useParams","isMyProfile","console","log","Object","keys","length","photos","large","fullName","lookingForAJob","lookingForAJobDiscription","aboutMe","userPhoto","small","modal","setModal","history","useHistory","login","window","location","reload","MainPageTemplate","HomePage","SignInPageModel","signIn","signInSelector","requestData","ProfilePage","isUsersLoading","bool","loadingStatus","setUsers","users","setPageNumber","usersGot","usersList","inLoading","friendshipStatuses","UserPrewiev","toggleFrienshipStatus","isFrendshipStatusLoading","followed","isUsersGot","loadingFriendshipStatuses","getUsers","options","loadUsers","reponse","items","friendshipStatus","setFrienshipStatusAsChanging","addUserToFriends","removeUserFromFriends","handleScroll","document","documentElement","scrollHeight","clientHeight","pageYOffset","addEventListener","removeEventListener","map","key","UsersPage","App","exact","path","combineReducers","signInReducer","concat","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0d4904a7.chunk.js","sourcesContent":["import axios from 'axios'\r\n//---------Authentication--------\r\nconst sampleRequest = axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        'API-KEY': '97f5b938-e7eb-4074-8770-937b717465c8',\r\n    },\r\n    withCredentials: true,\r\n})\r\n\r\nexport const authenticateUserRequest = () => {\r\n    return sampleRequest.get('auth/me').then(response => response.data)\r\n}\r\n\r\n//---------Sign-in-----------------------\r\n\r\nexport const signInRequest = data => {\r\n    return sampleRequest.post('auth/login', {...data}).then(response => response.data)\r\n}\r\nexport const signOutRequest = data => {\r\n    return sampleRequest.delete('auth/login').then(response => response.data)\r\n}\r\n\r\nexport const getCaptchaRequest = () => {\r\n    return sampleRequest.get('security/get-captcha-url').then(response => response.data)\r\n}\r\n//-----------Profile-----------\r\n\r\nexport const getProfileRequest = userId => {\r\n    return sampleRequest.get(`/profile/${userId}`).then(response => response.data)\r\n}\r\n\r\nexport const setProfilePhotoRequest = img => {\r\n    return sampleRequest.post('profile/photo', img)\r\n}\r\n\r\nexport const getProfileHeadlineRequest = userId => {\r\n    return sampleRequest.get(`status/${userId}`)\r\n}\r\n//-----------Users----------------\r\n\r\nexport const getUsersRequest = pageNumber => {\r\n    return sampleRequest.get(`/users?count=10&page=${pageNumber}`).then(response => response.data)\r\n}\r\n\r\nexport const addToFriendsRequest = userId => {\r\n    return sampleRequest.post(`/follow/${userId}`).then(request => request.data)\r\n}\r\nexport const removeFromFriendsREquest = userId => {\r\n    return sampleRequest.delete(`/follow/${userId}`).then(request => request.data)\r\n}\r\n","import {getProfileRequest, setProfilePhotoRequest} from '../../dal/dal'\r\n\r\nexport const SET_PROFILE = 'SET_PROFILE'\r\nexport function setProfile(profile) {\r\n    return {\r\n        type: SET_PROFILE,\r\n        profile,\r\n    }\r\n}\r\n\r\nexport function defineProfile(userId) {\r\n    return function (dispatch) {\r\n        getProfileRequest(userId).then(response => {\r\n            dispatch(setProfile(response))\r\n        })\r\n    }\r\n}\r\n\r\nexport function setProfilePhoto(img, userId) {\r\n    return function (dispatch) {\r\n        setProfilePhotoRequest(img)\r\n            .then(() => getProfileRequest(userId))\r\n            .then(response => {\r\n                dispatch(setProfile(response))\r\n            })\r\n    }\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/defaultAvatar.2582587b.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1V3iU\"};","import {authenticateUserRequest} from '../../dal/dal'\r\n\r\nexport const SET_AUTHENTICATED_USER = 'SET_AUTHENTICATED_USER'\r\nexport function setAuthenticatedUser(user) {\r\n    return {\r\n        type: SET_AUTHENTICATED_USER,\r\n        user,\r\n    }\r\n}\r\n\r\nexport const INITIALIZATION_FAILED = 'INITIALIZATION_FAILED'\r\nexport function initializationFailed() {\r\n    return {type: INITIALIZATION_FAILED}\r\n}\r\n\r\nexport function initializeApp() {\r\n    return function (dispatch) {\r\n        authenticateUserRequest().then(response => {\r\n            if (response.resultCode === 0) {\r\n                dispatch(setAuthenticatedUser(response.data))\r\n            } else {\r\n                dispatch(initializationFailed())\r\n            }\r\n        })\r\n    }\r\n}\r\n","export const initializationSelector = state => ({\r\n    initializationComplete: state.initialization.initializationComplete,\r\n    initializationFailed: state.initialization.initializationFailed,\r\n})\r\n\r\nexport const userIdSelector = state => state.initialization.authenticatedUser?.id\r\n","import React from 'react'\r\nimport './PageLoader.scss'\r\n\r\nconst PageLoader = () => {\r\n    return (\r\n        <div class='page-loader'>\r\n            <p class='page-loader__title'>Social Network</p>\r\n            <div className='page-loader__loader'>\r\n                <div></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PageLoader\r\n","import React, {useEffect} from 'react'\r\nimport {initializeApp} from './actions'\r\nimport {connect} from 'react-redux'\r\nimport {initializationSelector} from './selectors'\r\nimport {Redirect} from 'react-router-dom'\r\nimport PageLoader from '../../ui/loaders/PageLoader'\r\n\r\nconst Initialization = ({\r\n    noRedirect = false,\r\n    children,\r\n    initializeApp,\r\n    initializationComplete,\r\n    initializationFailed,\r\n}) => {\r\n    useEffect(() => {\r\n        initializeApp()\r\n    }, [])\r\n    if (!initializationComplete && !initializationFailed) {\r\n        return (\r\n            <>\r\n                <PageLoader />\r\n            </>\r\n        )\r\n    } else if (initializationComplete || (initializationFailed && noRedirect)) {\r\n        return children\r\n    } else if (initializationFailed) {\r\n        return <Redirect push to='/sign-in' />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    ...initializationSelector(state),\r\n})\r\nexport default connect(mapStateToProps, {initializeApp})(Initialization)\r\n","const {SET_AUTHENTICATED_USER, INITIALIZATION_FAILED} = require('./actions')\r\n\r\nlet initialState = {\r\n    initializationComplete: false,\r\n    initializationFailed: false,\r\n    authenticatedUser: {},\r\n}\r\n\r\nconst initializationReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTHENTICATED_USER: {\r\n            return {\r\n                initializationFailed: false,\r\n                initializationComplete: true,\r\n                authenticatedUser: action.user,\r\n            }\r\n        }\r\n        case INITIALIZATION_FAILED: {\r\n            return {\r\n                ...state,\r\n                initializationComplete: false,\r\n                initializationFailed: true,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default initializationReducer\r\n","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {userIdSelector} from '../initialization'\r\nimport {connect} from 'react-redux'\r\nimport './navigation.scss'\r\nconst Navigation = props => {\r\n    return (\r\n        <ul className='main-nav'>\r\n            <li className='main-nav__button'>\r\n                <NavLink to={`/profile/${props.userId}`}>Profile</NavLink>\r\n            </li>\r\n            <li className='main-nav__button'>\r\n                <NavLink to={`/users`}>Users</NavLink>\r\n            </li>\r\n        </ul>\r\n    )\r\n}\r\nconst mapStateToProps = state => ({\r\n    userId: userIdSelector(state),\r\n})\r\nexport default connect(mapStateToProps)(Navigation)\r\n","import React from 'react'\r\nimport './CirkleLoader.scss'\r\n\r\nconst CirkleLoader = ({big, blue, center}) => {\r\n    return (\r\n        <div\r\n            className={\r\n                'cirkle-loader ' +\r\n                (big ? 'cirkle-loader--big ' : null) +\r\n                (blue ? 'cirkle-loader--blue ' : null) +\r\n                (center ? 'cirkle-loader--center ' : null)\r\n            }\r\n        >\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CirkleLoader\r\n","import React from 'react'\r\nimport styles from './Button.module.css'\r\nimport CirkleLoader from '../loaders/CirkleLoader'\r\n\r\nconst Button = ({loading, ...props}) => {\r\n    return (\r\n        <button onClick={() => props.action()} className={props.className + ' ' + styles.button}>\r\n            {loading ? <CirkleLoader /> : props.children}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default Button\r\n","import React from 'react'\r\nimport styles from './Button.module.css'\r\n\r\nconst Button = ({className = '', ...props}) => {\r\n    return <button className={className + ' ' + styles.button}>{props.children}</button>\r\n}\r\n\r\nexport default Button\r\n","import React from 'react'\r\nimport './Input.scss'\r\nconst Input = ({type = 'default', ...props}) => {\r\n    return (\r\n        <div className={'input ' + (props.error ? 'input--error' : '')}>\r\n            <input\r\n                type={type}\r\n                placeholder={props.placeholder}\r\n                className='input__field'\r\n                ref={props.register}\r\n                name={props.name}\r\n            />\r\n            <label className='input__alert' htmlFor={props.name}>\r\n                {props.error?.message}\r\n            </label>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Input\r\n","import React from 'react'\r\nimport './HorizontalLoader.scss'\r\n\r\nconst HorizontalLoader = () => {\r\n    return (\r\n        <div className='horizontal-loader'>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HorizontalLoader\r\n","import React from 'react'\r\nimport './EditingButton.scss'\r\n\r\nconst EditingButton = props => {\r\n    return <div className={'editing-button ' + props.classes} onClick={props.OnEdit}></div>\r\n}\r\n\r\nexport default EditingButton\r\n","/* eslint-disable default-case */\r\nimport React, {useState} from 'react'\r\nimport {facebook} from '../../lib/constants'\r\nimport './SocialNetworkButton.scss'\r\n\r\nconst SocialNetworkButton = ({url, socialNetwork}) => {\r\n    return (\r\n        <a href={url}>\r\n            <div className={'social-network-button social-network-button--' + socialNetwork}>\r\n                {facebook}\r\n            </div>\r\n        </a>\r\n    )\r\n}\r\n\r\nexport default SocialNetworkButton\r\n","export const facebook = 'facebook'\r\n","import React, {useEffect, useState} from 'react'\r\nimport {useForm} from 'react-hook-form'\r\nimport {Button, Input, HorizontalLoader} from '../../ui'\r\nimport './SignInForm.scss'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {getCaptchaRequest} from '../../dal/dal'\r\nconst SignInForm = props => {\r\n    const [captchaSrc, setcaptchaSrc] = useState(null)\r\n    useEffect(() => {\r\n        if (props.signInFailed) defineCaptcha()\r\n    }, [props.signInFailed])\r\n    useEffect(() => {\r\n        defineCaptcha()\r\n    }, [])\r\n    const defineCaptcha = () => {\r\n        getCaptchaRequest().then(response => setcaptchaSrc(response.url))\r\n    }\r\n\r\n    const {register, handleSubmit, errors} = useForm({\r\n        mode: 'onBlur',\r\n    })\r\n    const onSumbit = data => {\r\n        props.logIn(data)\r\n    }\r\n    if (props.signInComplete) {\r\n        return <Redirect to='/' />\r\n    }\r\n    return (\r\n        <form className='sign-in-form' onSubmit={handleSubmit(onSumbit)}>\r\n            {props.requestSent && !(props.signInFailed || props.signInComplete) ? (\r\n                <HorizontalLoader />\r\n            ) : null}\r\n            <h1 className='sign-in-form__title'>Sign in</h1>\r\n            <p className='sign-in-form__alert'>\r\n                {props.signInFailed ? 'incorect password and/or email' : null}\r\n            </p>\r\n            <Input\r\n                name='email'\r\n                register={register({\r\n                    required: 'Required',\r\n                    minLength: {value: 5, message: 'Minimum 5 characters'},\r\n                    maxLength: {value: 35, message: 'Maximum 5 characters'},\r\n                    pattern: {value: /^\\S+@\\S+\\.\\S+$/, message: 'invalid email'},\r\n                })}\r\n                error={errors.email}\r\n                placeholder='Email'\r\n            />\r\n            <Input\r\n                name='password'\r\n                type={'password'}\r\n                register={register({\r\n                    required: 'Required',\r\n                    minLength: {value: 5, message: 'Minimum 5 characters'},\r\n                    maxLength: {value: 35, message: 'Maximum 5 characters'},\r\n                })}\r\n                error={errors.password}\r\n                placeholder='Password'\r\n            />\r\n            <img className='sign-in-form__captcha' alt='' src={captchaSrc}></img>\r\n            <div className='sign-in-form__captcha-refresh' onClick={defineCaptcha}>\r\n                Refresh image\r\n            </div>\r\n            <Input\r\n                name='captcha'\r\n                register={register({\r\n                    required: 'Required',\r\n                })}\r\n                placeholder='Enter the symbols from the image'\r\n            />\r\n            <label className='sign-in-form__checkbox'>\r\n                <input type='checkbox' ref={register} name='rememberMe' />\r\n                Remember me\r\n            </label>\r\n            <Button className='sign-in-form__button'>Sign in</Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SignInForm\r\n","import {\r\n    SIGN_IN_REQUEST_SENT,\r\n    SIGN_IN_COMPLETE,\r\n    SIGN_IN_FAILED,\r\n    CLEAN_SIGN_IN_STATE,\r\n} from './actions'\r\nlet initialState = {\r\n    requestSent: false,\r\n    signInComplete: false,\r\n    signInFailed: false,\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case CLEAN_SIGN_IN_STATE: {\r\n            return initialState\r\n        }\r\n        case SIGN_IN_REQUEST_SENT: {\r\n            return {\r\n                ...state,\r\n                requestSent: true,\r\n            }\r\n        }\r\n        case SIGN_IN_COMPLETE: {\r\n            return {\r\n                ...state,\r\n                signInComplete: true,\r\n            }\r\n        }\r\n        case SIGN_IN_FAILED: {\r\n            return {\r\n                ...state,\r\n                signInFailed: true,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default reducer\r\n","import {signInRequest} from '../../dal/dal'\r\n\r\nexport const SIGN_IN_REQUEST_SENT = 'SIGN_IN_REQUEST_SENT'\r\nexport function signInRequestSent() {\r\n    return {\r\n        type: SIGN_IN_REQUEST_SENT,\r\n    }\r\n}\r\nexport const SIGN_IN_COMPLETE = 'SING_IN_COMPLETE'\r\nexport function signInComplete() {\r\n    return {\r\n        type: SIGN_IN_COMPLETE,\r\n    }\r\n}\r\nexport const SIGN_IN_FAILED = 'SIGN_IN_FAILED'\r\nexport function signInFailed() {\r\n    return {\r\n        type: SIGN_IN_FAILED,\r\n    }\r\n}\r\n\r\nexport const CLEAN_SIGN_IN_STATE = 'CLEAN_SIGN_IN_STATE'\r\nexport function cleanSignInState() {\r\n    return {type: CLEAN_SIGN_IN_STATE}\r\n}\r\n\r\nexport function logIn(requestData) {\r\n    return function (dispatch) {\r\n        dispatch(cleanSignInState())\r\n        dispatch(signInRequestSent())\r\n        signInRequest(requestData).then(response => {\r\n            if (response.resultCode === 0) {\r\n                dispatch(signInComplete())\r\n            } else {\r\n                dispatch(signInFailed())\r\n            }\r\n        })\r\n    }\r\n}\r\n","const {SET_PROFILE} = require('./actions')\r\n\r\nlet initialState = {\r\n    profileDefine: false,\r\n    profile: {},\r\n}\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_PROFILE: {\r\n            return {\r\n                profile: action.profile,\r\n                profileDefine: true,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import React, {useState} from 'react'\r\n\r\nconst EditProfilePhoto = props => {\r\n    const [photo, setPhoto] = useState()\r\n    const [imgSrc, setImgSrc] = useState()\r\n\r\n    return (\r\n        <div className='edit-photo-modal'>\r\n            <div className='edit-photo-modal__content'>\r\n                <h3>Uppload new photo</h3>\r\n                <input\r\n                    type='file'\r\n                    onChange={event => {\r\n                        setPhoto(event.target.files[0])\r\n                        const reader = new FileReader()\r\n                        reader.readAsDataURL(event.target.files[0])\r\n                        reader.onload = () => {\r\n                            setImgSrc(reader.result)\r\n                        }\r\n                        setImgSrc(reader.result)\r\n                    }}\r\n                ></input>\r\n                <img className='edit-photo-modal__img' src={imgSrc}></img>\r\n                <button\r\n                    onClick={() => {\r\n                        const formData = new FormData()\r\n                        formData.append('image', photo)\r\n                        props.setProfilePhoto(formData)\r\n                    }}\r\n                >\r\n                    Save\r\n                </button>\r\n                <button\r\n                    className='edit-photo-modal__close'\r\n                    onClick={() => props.setPhotoEditing(false)}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditProfilePhoto\r\n","import React, {useEffect, useState} from 'react'\r\nimport {getProfileHeadlineRequest} from '../../dal/dal'\r\n\r\nconst ProfileHeadline = () => {\r\n    const [headlineText, setHeadlineText] = useState()\r\n    useEffect(() => {\r\n        // getProfileHeadlineRequest.then(response => setHeadlineText(response))\r\n    }, [])\r\n    return <div></div>\r\n}\r\n\r\nexport default ProfileHeadline\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Button, CirkleLoader, EditingButton, HorizontalLoader, SocialNetworkButton} from '../../ui'\r\nimport {defineProfile, setProfilePhoto} from './actions'\r\nimport {connect} from 'react-redux'\r\nimport {useParams} from 'react-router-dom'\r\nimport './Profile.scss'\r\nimport EditProfilePhoto from './EditProfilePhoto'\r\nimport {facebook} from '../../lib/constants'\r\nimport ProfileHeadline from './ProfileHeadline'\r\n\r\nconst Profile = ({profile, ...props}) => {\r\n    const [photoEditing, setPhotoEditing] = useState(null)\r\n    const {userId} = useParams()\r\n    useEffect(() => {\r\n        props.defineProfile(userId)\r\n    }, [userId])\r\n    if (!props.profileDefine) {\r\n        return <CirkleLoader big blue center />\r\n    }\r\n    const isMyProfile = props.authenticatedUserId === +userId\r\n    console.log(Object.keys(profile).length)\r\n    return (\r\n        // доработать лоадер в initialization, продолжить работу надд profile headline\r\n        <div className='profile'>\r\n            <div className='profile__avatar-section'>\r\n                <div className='profile__avatar-wrapper'>\r\n                    <img\r\n                        className='profile__avatar'\r\n                        src={profile.photos?.large || require('../../lib/defaultAvatar.svg')}\r\n                        alt='avatar'\r\n                        onClick={() => setPhotoEditing(true)}\r\n                    />\r\n                    {isMyProfile ? (\r\n                        <div\r\n                            className='profile__edit-profile-photo'\r\n                            onClick={() => setPhotoEditing(true)}\r\n                        >\r\n                            Edit Profile Photo\r\n                        </div>\r\n                    ) : null}\r\n                </div>\r\n                <Button className='profile__avatar-button'>Setting</Button>\r\n            </div>\r\n            <div className='profile__info-section'>\r\n                <p className='profile__name'>{profile.fullName}</p>\r\n                <ProfileHeadline></ProfileHeadline>\r\n                <div\r\n                    className={\r\n                        'profile__job-preferences ' +\r\n                        (profile.lookingForAJob ? 'profile__job-preferences--turned-off' : null)\r\n                    }\r\n                >\r\n                    {' '}\r\n                    <h3>\r\n                        {profile.lookingForAJob ? 'Open to work' : 'Edit your job preferencess'}\r\n                    </h3>\r\n                    <p className='profile__job-preferences-discription'>\r\n                        {profile.lookingForAJobDiscription}\r\n                    </p>\r\n                </div>\r\n                <div className='profile__about'>\r\n                    <h3 className='profile__about-title'>About me:</h3>\r\n                    <p className='profile__about-content'>{profile.aboutMe}</p>\r\n                    <EditingButton classes={'profile__editing-button'} />\r\n                </div>\r\n                <div className='profile__contacts'>\r\n                    <h3 className='profile__contacts-title'>Contacts:</h3>\r\n                    {/* {Object.entries(profile.contacts).map()} */}\r\n                    <SocialNetworkButton socialNetwork={facebook} />\r\n                    <EditingButton classes={'profile__editing-button'} />\r\n                </div>\r\n            </div>\r\n            {photoEditing ? (\r\n                <EditProfilePhoto\r\n                    setPhotoEditing={setPhotoEditing}\r\n                    setProfilePhoto={img => props.setProfilePhoto(img, userId)}\r\n                />\r\n            ) : null}\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = state => ({\r\n    profile: state.profile.profile,\r\n    profileDefine: state.profile.profileDefine,\r\n    authenticatedUserId: state.initialization.authenticatedUser.id,\r\n})\r\nexport default connect(mapStateToProps, {defineProfile, setProfilePhoto})(Profile)\r\n","import React, {useEffect, useState} from 'react'\r\nimport Button from '../../ui/buttons/ButtonWithAction'\r\nimport {connect} from 'react-redux'\r\nimport {useHistory} from 'react-router-dom'\r\nimport './SignInHeader.scss'\r\nimport {defineProfile} from '../profile'\r\nimport {signOutRequest} from '../../dal/dal'\r\n\r\nconst SignInHeader = props => {\r\n    const [modal, setModal] = useState(false)\r\n    const history = useHistory()\r\n    useEffect(() => {\r\n        defineProfile(props.authenticatedUser.id)\r\n    })\r\n\r\n    return (\r\n        <>\r\n            {props.initializationComplete ? (\r\n                <div className='sign-in-header' onClick={() => setModal(!modal)}>\r\n                    <p>{props.authenticatedUser.login}</p>\r\n                    <img\r\n                        className='sign-in-header__photo'\r\n                        src={props.userPhoto || require('../../lib/defaultAvatar.svg')}\r\n                        alt='avatar'\r\n                    ></img>\r\n                    {modal ? (\r\n                        <div className='sign-in-modal'>\r\n                            <div className='sign-in-modal__info'>\r\n                                <img\r\n                                    className='sign-in-modal__photo'\r\n                                    src={props.userPhoto || require('../../lib/defaultAvatar.svg')}\r\n                                    alt='avatar'\r\n                                ></img>\r\n                                <div>\r\n                                    <p>\r\n                                        <b>{props.authenticatedUser.login}</b>\r\n                                    </p>\r\n                                    <p>{props.authenticatedUser.email}</p>\r\n                                </div>\r\n                            </div>\r\n                            <button className='sign-in-modal__my-profile-button '>\r\n                                My profile\r\n                            </button>\r\n                            <button className='sign-in-modal__button'>Setting</button>\r\n                            <button\r\n                                className='sign-in-modal__button'\r\n                                onClick={() => signOutRequest().then(window.location.reload())}\r\n                            >\r\n                                Log out\r\n                            </button>\r\n                        </div>\r\n                    ) : null}\r\n                </div>\r\n            ) : (\r\n                <Button action={() => history.push('/sign-in')}>Sign in</Button>\r\n            )}\r\n        </>\r\n    )\r\n}\r\nconst mapStateToProps = state => ({\r\n    authenticatedUser: state.initialization.authenticatedUser,\r\n    initializationComplete: state.initialization.initializationComplete,\r\n    userPhoto: state.profile.profile.photos?.small,\r\n})\r\nexport default connect(mapStateToProps, {})(SignInHeader)\r\n","import React from 'react'\r\nimport './MainPageTemplate.scss'\r\nimport {Navigation} from '../../features/navigation'\r\nimport {SignInHeader} from '../../features/sign-in'\r\nconst MainPageTemplate = ({children, ...props}) => {\r\n    return (\r\n        <div className='main-page'>\r\n            <header className='main-page__header'>\r\n                <Navigation />\r\n                <SignInHeader />\r\n            </header>\r\n            <main className='main-page__content'>{children}</main>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MainPageTemplate\r\n","import React from 'react'\r\nimport {Initialization} from '../../features/initialization'\r\nimport MainPageTemplate from '../templates/MainPageTemplate'\r\nimport './HomePage.scss'\r\n\r\nconst HomePage = () => {\r\n    return (\r\n        <Initialization noRedirect>\r\n            <MainPageTemplate>\r\n                <div className='home-page'>\r\n                    <b className='home-page__title'>Social Network</b>\r\n                </div>\r\n            </MainPageTemplate>\r\n        </Initialization>\r\n    )\r\n}\r\n\r\nexport default HomePage\r\n","import React from 'react'\r\nimport {SignInForm} from '../../features/sign-in'\r\nimport './SignInPage.scss'\r\n\r\nconst SignInPageModel = props => {\r\n    return (\r\n        <div className='sign-in-page'>\r\n            <div className='sign-in-page__form'>\r\n                <SignInForm {...props} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignInPageModel\r\n","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {signInSelector, logIn} from '../../features/sign-in'\r\nimport SignInPageModel from './SignInPageModel'\r\nimport {Initialization} from '../../features/initialization'\r\n\r\nconst SignInPage = props => {\r\n    return (\r\n        <Initialization noRedirect>\r\n            <SignInPageModel {...props} />\r\n        </Initialization>\r\n    )\r\n}\r\nconst mapStateToProps = state => ({\r\n    ...signInSelector(state),\r\n})\r\n\r\nexport default connect(mapStateToProps, {logIn})(SignInPage)\r\n","export const signInSelector = state => ({\r\n    requestSent: state.signIn.requestSent,\r\n    signInFailed: state.signIn.signInFailed,\r\n    signInComplete: state.signIn.signInComplete,\r\n})\r\n","import React from 'react'\r\nimport MainPageTemplate from '../templates/MainPageTemplate'\r\nimport {Initialization} from '../../features/initialization'\r\nimport {Profile} from '../../features/profile'\r\n\r\nconst ProfilePage = () => {\r\n    return (\r\n        <Initialization>\r\n            <MainPageTemplate>\r\n                <Profile />\r\n            </MainPageTemplate>\r\n        </Initialization>\r\n    )\r\n}\r\n\r\nexport default ProfilePage\r\n","import {getUsersRequest} from '../../dal/dal'\r\n\r\nexport const IS_USERS_LOADING = 'IS_USERS_LOADING'\r\nexport function isUsersLoading(bool) {\r\n    return {\r\n        type: IS_USERS_LOADING,\r\n        loadingStatus: bool,\r\n    }\r\n}\r\nexport const SET_USERS = 'SET_USERS'\r\nexport function setUsers(users) {\r\n    return {\r\n        type: SET_USERS,\r\n        users,\r\n    }\r\n}\r\n\r\nexport const SET_PAGE_NUMBER = 'SET_PAGE_NUMBER'\r\nexport function setPageNumber(pageNumber) {\r\n    return {\r\n        type: SET_PAGE_NUMBER,\r\n        pageNumber,\r\n    }\r\n}\r\n\r\nexport function getUsers(pageNumber, options = {loadUsers: false}) {\r\n    return function (dispatch) {\r\n        if (options.loadUsers) dispatch(setPageNumber(pageNumber))\r\n        dispatch(isUsersLoading(true))\r\n        getUsersRequest(pageNumber).then(reponse => {\r\n            dispatch(setUsers(reponse.items))\r\n            dispatch(isUsersLoading(false))\r\n        })\r\n    }\r\n}\r\n","import {SET_USERS, IS_USERS_LOADING, SET_PAGE_NUMBER} from './actions'\r\nimport {\r\n    ADD_USER_TO_FRIENDS,\r\n    SET_FRIENDSHIP_STATUS_AS_CHANGING,\r\n    REMOVE_USER_FROM_FRIENDS,\r\n} from './friendship/actions'\r\n\r\nlet initialState = {\r\n    usersGot: false,\r\n    usersList: [],\r\n    pageNumber: 1,\r\n    isUsersLoading: false,\r\n    inLoading: {\r\n        friendshipStatuses: {}, // id users whoes friendship status is changing\r\n    },\r\n}\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                usersList: state.usersList.concat(action.users),\r\n                usersGot: true,\r\n            }\r\n        case IS_USERS_LOADING:\r\n            return {\r\n                ...state,\r\n                isUsersLoading: action.loadingStatus,\r\n            }\r\n        case SET_PAGE_NUMBER:\r\n            return {\r\n                ...state,\r\n                pageNumber: action.pageNumber,\r\n            }\r\n        case ADD_USER_TO_FRIENDS:\r\n            return {\r\n                ...state,\r\n                usersList: state.usersList.map(user => {\r\n                    if (user.id === action.userId) {\r\n                        user.followed = true\r\n                        return user\r\n                    } else {\r\n                        return user\r\n                    }\r\n                }),\r\n                inLoading: {\r\n                    ...state.inLoading,\r\n                    friendshipStatuses: {\r\n                        ...state.inLoading.friendshipStatuses,\r\n                        [action.userId]: false,\r\n                    },\r\n                },\r\n            }\r\n        case REMOVE_USER_FROM_FRIENDS:\r\n            return {\r\n                ...state,\r\n                inLoading: {\r\n                    ...state.inLoading,\r\n                    friendshipStatuses: {\r\n                        ...state.inLoading.friendshipStatuses,\r\n                        [action.userId]: false,\r\n                    },\r\n                },\r\n                usersList: state.usersList.map(user => {\r\n                    if (user.id === action.userId) {\r\n                        user.followed = false\r\n                        return user\r\n                    } else {\r\n                        return user\r\n                    }\r\n                }),\r\n            }\r\n        case SET_FRIENDSHIP_STATUS_AS_CHANGING: {\r\n            return {\r\n                ...state,\r\n                inLoading: {\r\n                    ...state.inLoading,\r\n                    friendshipStatuses: {\r\n                        ...state.inLoading.friendshipStatuses,\r\n                        [action.userId]: true,\r\n                    },\r\n                },\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import React from 'react'\r\nimport {Button} from '../../ui'\r\nimport './UserPrewiev.scss'\r\n\r\nconst UserPrewiev = ({user, toggleFrienshipStatus, isFrendshipStatusLoading}) => {\r\n    return (\r\n        <div className='user-prewiev'>\r\n            <div className='user-prewiev__avatar'>\r\n                <img alt='' src={user.photos?.small || require('../../lib/defaultAvatar.svg')} />\r\n            </div>\r\n            <div className='user-prewiev__info'>\r\n                <span className='user-prewiev__name'>{user.name}</span>\r\n            </div>\r\n            <div>\r\n                <Button\r\n                    loading={isFrendshipStatusLoading}\r\n                    action={() => toggleFrienshipStatus(user.id, !user.followed)}\r\n                >\r\n                    {user.followed ? 'Unfollow' : 'Follow'}\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserPrewiev\r\n","import React, {useEffect, useState} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {getUsers, setPageNumber} from './actions'\r\nimport UsersPrewiev from '../usersPrewiev/UserPrewiev'\r\nimport './Users.scss'\r\nimport {HorizontalLoader} from '../../ui'\r\nimport {toggleFrienshipStatus} from './friendship/actions'\r\n\r\nconst Users = ({getUsers, pageNumber, isUsersLoading, isUsersGot, ...props}) => {\r\n    useEffect(() => {\r\n        function handleScroll() {\r\n            const spaceToEndOfPage =\r\n                document.documentElement.scrollHeight -\r\n                (document.documentElement.clientHeight + window.pageYOffset)\r\n            if (spaceToEndOfPage < 400) {\r\n                if (!isUsersLoading) {\r\n                    getUsers(++pageNumber, {loadUsers: true})\r\n                }\r\n            }\r\n        }\r\n        document.addEventListener('scroll', handleScroll)\r\n        return () => document.removeEventListener('scroll', handleScroll)\r\n    }, [getUsers, isUsersLoading, pageNumber])\r\n\r\n    useEffect(() => {\r\n        getUsers(pageNumber)\r\n    }, [])\r\n\r\n    if (!isUsersGot) {\r\n        return <p>loading...</p>\r\n    }\r\n    return (\r\n        <>\r\n            <ul className='users-list'>\r\n                {props.users.map(user => (\r\n                    <li key={user.id}>\r\n                        <UsersPrewiev\r\n                            user={user}\r\n                            isFrendshipStatusLoading={props.loadingFriendshipStatuses?.[user.id]}\r\n                            toggleFrienshipStatus={props.toggleFrienshipStatus}\r\n                        />\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n            {true ? (\r\n                <div className='users-list__loading'>\r\n                    <HorizontalLoader />\r\n                </div>\r\n            ) : null}\r\n        </>\r\n    )\r\n}\r\nconst mapStateToProps = state => ({\r\n    users: state.users.usersList,\r\n    pageNumber: state.users.pageNumber,\r\n    isUsersGot: state.users.usersGot,\r\n    isUsersLoading: state.users.isUsersLoading,\r\n    loadingFriendshipStatuses: state.users.inLoading.friendshipStatuses,\r\n})\r\n\r\nexport default connect(mapStateToProps, {getUsers, setPageNumber, toggleFrienshipStatus})(Users)\r\n","import {addToFriendsRequest, removeFromFriendsREquest} from '../../../dal/dal'\r\n\r\nexport const SET_FRIENDSHIP_STATUS_AS_CHANGING = 'SET_FRIENDSHIP_STATUS_AS_CHANGING'\r\nexport function setFrienshipStatusAsChanging(userId) {\r\n    return {\r\n        type: SET_FRIENDSHIP_STATUS_AS_CHANGING,\r\n        userId,\r\n    }\r\n}\r\nexport const ADD_USER_TO_FRIENDS = 'ADD_USER_TO_FRIENDS'\r\nexport function addUserToFriends(userId) {\r\n    return {\r\n        type: ADD_USER_TO_FRIENDS,\r\n        userId,\r\n    }\r\n}\r\nexport const REMOVE_USER_FROM_FRIENDS = 'REMOVE_USER_FROM_FRIENDS'\r\nexport function removeUserFromFriends(userId) {\r\n    return {\r\n        type: REMOVE_USER_FROM_FRIENDS,\r\n        userId,\r\n    }\r\n}\r\nexport const SET_FRIENDSHIP_STATUS = 'SET_FRIENDSHIP_STATUS'\r\nexport function setFrienshipStatus(userId, friendshipStatus) {\r\n    return {\r\n        type: friendshipStatus ? ADD_USER_TO_FRIENDS : REMOVE_USER_FROM_FRIENDS,\r\n    }\r\n}\r\n\r\nexport function toggleFrienshipStatus(userId, friendshipStatus) {\r\n    return function (dispatch) {\r\n        dispatch(setFrienshipStatusAsChanging(userId))\r\n        if (friendshipStatus) {\r\n            addToFriendsRequest(userId).then(response => {\r\n                if (response.resultCode === 0) {\r\n                    dispatch(addUserToFriends(userId))\r\n                }\r\n            })\r\n        } else {\r\n            removeFromFriendsREquest(userId).then(response => {\r\n                if (response.resultCode === 0) {\r\n                    dispatch(removeUserFromFriends(userId))\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n","import React from 'react'\r\nimport {Initialization} from '../../features/initialization'\r\nimport MainPageTemplate from '../templates/MainPageTemplate'\r\nimport {Users} from '../../features/users'\r\n\r\nconst UsersPage = () => {\r\n    return (\r\n        <Initialization>\r\n            <MainPageTemplate>\r\n                <Users />\r\n            </MainPageTemplate>\r\n        </Initialization>\r\n    )\r\n}\r\n\r\nexport default UsersPage\r\n","import React from 'react'\r\nimport {Switch, Route, HashRouter} from 'react-router-dom'\r\nimport HomePage from './pages/home/HomePage'\r\nimport SignInPage from './pages/sign-in/SignInPage'\r\nimport ProfilePage from './pages/profile/ProfilePage'\r\nimport UsersPage from './pages/users/UsersPage'\r\n\r\nconst App = () => {\r\n    return (\r\n        <HashRouter>\r\n            <Switch>\r\n                <Route exact path='/'>\r\n                    <HomePage />\r\n                </Route>\r\n                <Route path='/sign-in'>\r\n                    <SignInPage />\r\n                </Route>\r\n                <Route path='/profile/:userId'>\r\n                    <ProfilePage />\r\n                </Route>\r\n                <Route path='/users'>\r\n                    <UsersPage />\r\n                </Route>\r\n            </Switch>\r\n        </HashRouter>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import {combineReducers} from 'redux'\r\nimport {initializationReducer} from './features/initialization'\r\nimport {signInReducer} from './features/sign-in'\r\nimport {profileReducer} from './features/profile'\r\nimport {usersReducer} from './features/users'\r\n\r\nconst reducer = combineReducers({\r\n    initialization: initializationReducer,\r\n    signIn: signInReducer,\r\n    profile: profileReducer,\r\n    users: usersReducer,\r\n})\r\nexport default reducer\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport {createStore, applyMiddleware} from 'redux'\r\nimport {Provider} from 'react-redux'\r\nimport App from './App'\r\nimport reducer from './reducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport './index.scss'\r\n\r\nlet store = createStore(reducer, applyMiddleware(thunkMiddleware))\r\nconst render = () => {\r\n    ReactDOM.render(\r\n        <React.StrictMode>\r\n            <Provider store={store}>\r\n                <App dispatch={store.dispatch} />\r\n            </Provider>\r\n        </React.StrictMode>,\r\n        document.getElementById('root')\r\n    )\r\n}\r\n\r\nrender()\r\nwindow.store = store\r\n"],"sourceRoot":""}